#!/bin/bash

fgdefault='#[default]'
if [ $(piactl get connectionstate) == 'Connected' ]\
	|| [ -d /sys/class/net/wgpia0 ] ; then
	fgcolor='#[fg=brightgreen]'
	piamarker="+V"
elif [ $(piactl get connectionstate) == 'Connecting' ]; then
	fgcolor='#[fg=brightblue]'
	piamarker="~V"
elif [ $(piactl get connectionstate) == 'Reconnecting' ]; then
	fgcolor='#[fg=magenta]'
	piamarker="~V"
elif [ $(piactl get connectionstate) == 'Disconnected' ]; then
	fgcolor='#[fg=red]'
	piamarker="-V"
else
	fgcolor='#[fg=yellow]'
	piamarker="!V"
fi
printf "%s" "${fgcolor}${piamarker}${fgdefault}"
